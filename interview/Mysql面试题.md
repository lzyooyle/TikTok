## InnoDB如何选择聚簇索引
+ 如果表里有主键，就会默认选择主键所在的列，作为聚簇索引的索引键
+ 如果表里没有主键，会选择非null值的所在列，作为聚簇索引的索引键
+ 如果两者都没有，会自动创建一个隐式的自增id列，作为聚簇索引的索引键
- 通过二次索引查找数据，需要再次查询主键索引的B+树，这叫回表
- 在二级索引里面，就能查找到数据，不用回表，就称为覆盖索引
- 利用索引的前提，是索引里的key值是有序的

## 什么时候适用索引？
+ 可以区分唯一性的字段
+ where条件中用到的字段
+ Group by 和 Order by中用到的字段
- 经常给更新的数据，比如用户余额，不适合建索引，维护B+树的有序性，需要不断重建索引
- 数据量少的表，存在大量重复数据的列，经常更新数据的列，不适合建立索引

## 什么时候索引会失效？
+ 当查询条件中，出现左like %条件或者左右like %字段%的时候，索引会失效
+ 当查询条件中，对索引列做计算，函数操作，类型转换的时候，索引会失效
+ 当查询条件中or的前一个是索引列，后一个不是索引列，索引会失效
+ 当联合索引查询的时候，没有遵循最左原则，索引会失效

## B+树的特点
+ 非叶子节点，只存储索引，叶子节点存放索引和记录
+ 所有的非叶子节点的索引，都会出现在叶子节点，所有的叶子节点之间通过链表连接
